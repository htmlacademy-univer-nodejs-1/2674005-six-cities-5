@baseUrl = http://localhost:4000
@userId = 6935c2385b5887fa48acbc73
@offerId = 6935cb1cc2d06ab173a4930a
@token = YOUR_JWT_TOKEN_HERE

### Register User
POST {{baseUrl}}/api/users/register
Content-Type: application/json

{
  "name": "Ivan",
  "lastName": "Petrov",
  "email": "ivan@example.com",
  "password": "123456",
  "avatarUrl": "default.jpg",
  "type": "standard"
}


### Get User by ID
GET {{baseUrl}}/api/users/{{userId}}


### Update User
PUT {{baseUrl}}/api/users/{{userId}}
Content-Type: application/json

{
  "name": "Updated Name",
  "lastName": "Updated Last"
}


### Upload Avatar (multipart/form-data)
POST {{baseUrl}}/api/users/{{userId}}/avatar
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="avatar"; filename="avatar.jpg"
Content-Type: image/jpeg

< ./markup/img/avatar-max.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--


### Login User
POST {{baseUrl}}/api/users/login
Content-Type: application/json

{
  "email": "ivan@example.com",
  "password": "123456"
}


### Check Authentication Status
GET {{baseUrl}}/api/users/check
Authorization: Bearer {{token}}


### Create Offer (requires auth)
POST {{baseUrl}}/api/offers
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Beautiful apartment in Paris",
  "description": "A nice place to stay in the city center with great views and modern amenities",
  "city": "Paris",
  "previewImage": "preview.jpg",
  "images": ["img1.jpg", "img2.jpg", "img3.jpg", "img4.jpg", "img5.jpg", "img6.jpg"],
  "isPremium": true,
  "type": "Apartment",
  "rooms": 3,
  "guests": 4,
  "price": 150,
  "amenities": ["Breakfast", "Air conditioning"],
  "location": {
    "latitude": 48.8566,
    "longitude": 2.3522
  }
}


### Get All Offers
GET {{baseUrl}}/api/offers


### Get All Offers with Limit
GET {{baseUrl}}/api/offers?limit=10


### Get Offers by City
GET {{baseUrl}}/api/offers?city=Paris


### Get Offer by ID
GET {{baseUrl}}/api/offers/{{offerId}}


### Update Offer (requires auth)
PUT {{baseUrl}}/api/offers/{{offerId}}
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Updated: Luxury apartment in Paris",
  "price": 200
}


### Delete Offer (requires auth)
DELETE {{baseUrl}}/api/offers/{{offerId}}
Authorization: Bearer {{token}}


### Get Favorite Offers (requires auth)
GET {{baseUrl}}/api/offers/favorites
Authorization: Bearer {{token}}


### Add Offer to Favorites (requires auth)
POST {{baseUrl}}/api/offers/{{offerId}}/favorite
Authorization: Bearer {{token}}


### Remove Offer from Favorites (requires auth)
DELETE {{baseUrl}}/api/offers/{{offerId}}/favorite
Authorization: Bearer {{token}}


### Create Comment (requires auth)
POST {{baseUrl}}/api/comments
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "text": "Great place to stay! Highly recommend for families.",
  "rating": 5,
  "offerId": "{{offerId}}"
}


### Get Comments for Offer
GET {{baseUrl}}/api/comments/{{offerId}}


### Access Uploaded File
GET {{baseUrl}}/upload/KeFYTmcXP5_EByM9G3Fuo.jpg


### Invalid Email
POST {{baseUrl}}/api/users/register
Content-Type: application/json

{
  "name": "Test",
  "lastName": "User",
  "email": "invalid-email",
  "password": "123456",
  "avatarUrl": "avatar.jpg",
  "type": "standard"
}


### Short Password
POST {{baseUrl}}/api/users/register
Content-Type: application/json

{
  "name": "Test",
  "lastName": "User",
  "email": "test@example.com",
  "password": "123",
  "avatarUrl": "avatar.jpg",
  "type": "standard"
}


### Invalid ObjectID
GET {{baseUrl}}/api/users/invalid-id


### Non-existent User
GET {{baseUrl}}/api/users/507f1f77bcf86cd799439011


### Non-existent Offer
GET {{baseUrl}}/api/offers/507f1f77bcf86cd799439011


### Invalid Comment Rating
POST {{baseUrl}}/api/comments
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "text": "This is a valid comment text",
  "rating": 10,
  "offerId": "{{offerId}}"
}


### Short Comment Text
POST {{baseUrl}}/api/comments
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "text": "Bad",
  "rating": 5,
  "offerId": "{{offerId}}"
}


### Try to Create Offer without Auth (should fail with 401)
POST {{baseUrl}}/api/offers
Content-Type: application/json

{
  "title": "Unauthorized offer",
  "description": "This should not be created without authentication",
  "city": "Paris",
  "previewImage": "preview.jpg",
  "images": ["img1.jpg", "img2.jpg", "img3.jpg", "img4.jpg", "img5.jpg", "img6.jpg"],
  "isPremium": false,
  "type": "Apartment",
  "rooms": 2,
  "guests": 2,
  "price": 100,
  "amenities": ["Wi-Fi"],
  "location": {
    "latitude": 48.8566,
    "longitude": 2.3522
  }
}


### Try to Create Comment without Auth (should fail with 401)
POST {{baseUrl}}/api/comments
Content-Type: application/json

{
  "text": "Unauthorized comment should not work",
  "rating": 4,
  "offerId": "{{offerId}}"
}


### Login with Invalid Credentials (should fail with 401)
POST {{baseUrl}}/api/users/login
Content-Type: application/json

{
  "email": "ivan@example.com",
  "password": "wrongpassword"
}


### Check Auth without Token (should fail with 401)
GET {{baseUrl}}/api/users/check

